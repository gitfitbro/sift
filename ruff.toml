# Ruff configuration for sift
target-version = "py310"
line-length = 100

[lint]
select = [
    "E",     # pycodestyle errors
    "W",     # pycodestyle warnings
    "F",     # pyflakes
    "I",     # isort
    "UP",    # pyupgrade
    "B",     # flake8-bugbear
    "SIM",   # flake8-simplify
    "RUF",   # ruff-specific rules
]
ignore = [
    "E501",   # line too long (handled by formatter)
    "E402",   # module level import not at top (typer CLI pattern needs app before imports)
    "B008",   # do not perform function calls in argument defaults (typer pattern)
    "B904",   # raise from within except (typer.Exit pattern)
    "B017",   # do not assert blind exception (test pattern)
    "SIM102", # nested if statements (readability preference)
    "SIM105", # contextlib.suppress (readability preference)
    "SIM108", # use ternary operator (readability preference)
    "RUF012", # mutable class attributes without ClassVar (textual pattern)
    "RUF013", # implicit Optional (existing codebase pattern)
    "RUF015", # prefer next(iter()) (readability preference)
]

[lint.per-file-ignores]
"tests/*" = ["F841"]  # unused variables in tests are fine

[lint.isort]
known-first-party = ["sift"]

[format]
quote-style = "double"
indent-style = "space"
